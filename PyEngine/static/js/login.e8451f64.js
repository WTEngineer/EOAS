(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"327c":function(t,e,s){"use strict";s("c0a4")},"4bd4":function(t,e,s){"use strict";var a=s("5530"),r=(s("caad"),s("2532"),s("07ac"),s("4de4"),s("d3b7"),s("159b"),s("7db0"),s("58df")),i=s("7e2b"),n=s("3206");e["a"]=Object(r["a"])(i["a"],Object(n["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,s=function(t){return t.$watch("hasError",(function(s){e.$set(e.errorBag,t._uid,s)}),{immediate:!0})},a={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",(function(r){r&&(e.errorBag.hasOwnProperty(t._uid)||(a.valid=s(t)))})):a.valid=s(t),a},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var s=this.watchers.find((function(t){return t._uid===e._uid}));s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object(a["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},7101:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tw-w-full tw-flex tw-flex-col tw-justify-center tw-items-center",staticStyle:{"min-height":"100vh"}},[a("div",{staticClass:"login"},[a("div",{staticClass:"tw-flex tw-flex-col tw-p-0"},[a("div",{staticClass:"login-header tw-flex tw-justify-between tw-items-center"},[a("div",{staticClass:"tw-block"},[a("h2",{staticClass:"tw-leading-10 tw-font-black"},[t._v(t._s(t.$t("signin")))]),a("span",{staticClass:"subtitle tw-font-medium"},[t._v(t._s(t.$t("welcome_message"))+" "),a("strong",{staticClass:"text-primary"},[t._v("EOAS")])])]),a("div",{staticClass:"tw-ml-auto"},[a("v-img",{staticClass:"logo",attrs:{src:s("fe1e"),width:"35px"}})],1)]),a("v-row",{staticClass:"tw-w-full tw-m-0 tw-mt-5"},[a("v-col",{staticClass:"tw-p-0 redline mr-3",attrs:{cols:"3"}}),a("v-col",{staticClass:"tw-p-0 grayline",attrs:{cols:"3"}})],1),a("v-form",{ref:"form",staticClass:"login-content tw-mt-5",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.signin.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("span",{staticClass:"login-input-label"},[t._v(t._s(t.$t("username")))]),a("v-text-field",{staticClass:"tw-mb-0 login-input tw-text-white",attrs:{required:"",rules:t.rules.username,solo:"","background-color":"rgba(var(--cui-menu-default-rgb), 0.7)",color:"var(--cui-primary)",label:t.$t("username")},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}}),a("span",{staticClass:"login-input-label"},[t._v(t._s(t.$t("password")))]),a("v-text-field",{staticClass:"tw-mb-0 login-input",attrs:{required:"",autocomplete:"current-password",rules:t.rules.password,solo:"","background-color":"rgba(var(--cui-menu-default-rgb), 0.7)",color:"var(--cui-primary)",label:t.$t("password"),type:t.showPassword?"text":"password","append-icon":t.showPassword?t.icons["mdiEye"]:t.icons["mdiEyeOff"]},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}}),a("v-btn",{staticClass:"login-btn tw-text-white tw-mt-2",attrs:{loading:t.loading,block:"",depressed:"",color:"var(--cui-primary)",height:"48px",type:"submit"}},[t._v(t._s(t.$t("signin")))])],1)],1)]),a("span",{staticClass:"tw-text-xs text-muted"},[t._v("INNOVIUM-TECH EOAS - v"+t._s(t.version))])])},r=[],i=s("5530"),n=s("1da1"),o=(s("96cf"),s("40fd")),u=s("94ed"),l={name:"Login",data:function(){var t=this;return{loading:!1,loadRestart:!1,icons:{mdiEye:u["V"],mdiEyeOff:u["W"]},showPassword:!1,rules:{username:[function(e){return!!e||t.$t("username_is_required")}],password:[function(e){return!!e||t.$t("password_is_required")}]},user:{username:"",password:""},valid:!0,moduleName:"EOAS",version:o["a"]}},computed:{restarted:function(){return Boolean("true"===localStorage.getItem("restarted"))},updated:function(){return Boolean("true"===localStorage.getItem("updated"))},uiConfig:function(){return this.$store.state.config.ui}},created:function(){var t,e;this.loadRestart=this.restarted,this.moduleName=(null===(t=this.uiConfig)||void 0===t||null===(e=t.env)||void 0===e?void 0:e.moduleName)||"EOAS",this.version=this.uiConfig.version||o["a"];var s=this.$store.state.auth.user;s.id&&this.$router.push("/cameras")},mounted:function(){this.restarted&&(localStorage.setItem("restarted",!1),window.location.reload(!0))},methods:{signin:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.loading=!0,s=t.$refs.form.validate(),!s){e.next=17;break}return e.prev=3,e.next=6,t.$store.dispatch("auth/login",Object(i["a"])({},t.user));case 6:t.$toast.success("Logged in successfully"),t.$router.push("/cameras"),e.next=15;break;case 10:e.prev=10,e.t0=e["catch"](3),t.loading=!1,console.log(e.t0),!e.t0.response||401!==e.t0.response.status&&403!==e.t0.response.status?t.$toast.error("Please check the login information"):t.$toast.error(t.$t("cannot_login"));case 15:e.next=18;break;case 17:t.loading=!1;case 18:case"end":return e.stop()}}),e,null,[[3,10]])})))()}}},c=l,d=(s("327c"),s("2877")),f=s("6544"),h=s.n(f),m=s("8336"),p=s("62ad"),w=s("4bd4"),v=s("adda"),g=s("0fd9"),b=s("8654"),_=Object(d["a"])(c,a,r,!1,null,"a126e222",null);e["default"]=_.exports;h()(_,{VBtn:m["a"],VCol:p["a"],VForm:w["a"],VImg:v["a"],VRow:g["a"],VTextField:b["a"]})},c0a4:function(t,e,s){}}]);