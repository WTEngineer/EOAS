(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cameras"],{2083:function(t,a,e){},"387b":function(t,a,e){"use strict";e("2083")},cfed:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"camera-page"},[e("v-btn",{directives:[{name:"scroll",rawName:"v-scroll",value:t.onScroll,expression:"onScroll"},{name:"show",rawName:"v-show",value:t.fab,expression:"fab"}],staticClass:"clear-btn",class:t.fabAbove?"clear-btn-top":"",attrs:{color:"error",transition:"fade-transition",width:"60",height:"60",fab:"",dark:"",fixed:"",bottom:"",right:"",loading:t.loadingProgress},on:{click:t.clear}},[e("v-icon",[t._v(t._s(t.icons["mdiCloseThick"]))])],1),e("v-row",{staticClass:"tw-w-full"},[e("v-col",{staticStyle:{padding:"5px 0"},attrs:{cols:"4"}},[e("div",{staticClass:"sidebar"},[e("v-list",{staticClass:"sidebar",staticStyle:{"box-shadow":"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px",padding:"10px"}},t._l(t.analyticsData,(function(a,s){return e("v-list-item",{key:s,staticStyle:{height:"130px",padding:"5px","background-color":"#f0f0f0","border-radius":"10px","margin-bottom":"10px"}},[e("v-list-item-avatar",{staticStyle:{"margin-right":"5px",width:"100px",height:"100px"}},[e("img",{attrs:{src:a.avatar1,alt:"Avatar"}})]),e("v-list-item-avatar",{staticStyle:{"margin-right":"5px",width:"100px",height:"100px"}},[e("img",{attrs:{src:a.avatar2,alt:"Avatar"}})]),e("v-list-item-content",{staticStyle:{height:"130px",width:"100%",padding:"0",margin:"0"}},[e("v-list-item-title",[t._v(t._s(a.name))]),e("v-list-item-subtitle",[e("div",{staticClass:"text-xs"},[t._v(t._s(t.$t("gender"))+": "+t._s(a.gender))]),e("div",{staticClass:"text-xs"},[t._v(t._s(t.$t("status"))+": "+t._s(a.status))]),e("div",{staticClass:"text-xs"},[t._v(t._s(t.$t("blocked"))+": "+t._s(a.blocked))]),e("div",{staticClass:"text-xs"},[t._v(t._s(t.$t("guest"))+": "+t._s(a.guesttype))]),e("div",{staticClass:"text-xs"},[t._v(t._s(t.$t("safety"))+": "+t._s(a.safetytype))]),e("div",{staticClass:"text-xs"},[t._v(t._s(a.timestamp))])])],1),e("v-icon",{staticStyle:{position:"absolute",right:"5px",top:"5px"},attrs:{color:a.iconColor}},[t._v(t._s(t.icons[a.action]))])],1)})),1)],1)]),e("v-col",{attrs:{cols:"8"}},[e("v-row",{staticClass:"tw-w-full",staticStyle:{padding:"15px 0"}},[e("v-col",{attrs:{cols:t.cameraView?12:6}},[e("div",{staticClass:"tw-w-full"},[e("div",{staticClass:"camera-box",style:t.cameraView?"height: 500px":"height: 250px"},[t.streamAvailable1?e("img",{staticClass:"camera-stream",attrs:{src:t.streamSrc1,alt:"Camera 1 Feed"}}):e("img",{attrs:{src:"/img/icons/camera.png",alt:"Default Image",width:"100",height:"100"}})])])]),e("v-col",{attrs:{cols:t.cameraView?12:6}},[e("div",{staticClass:"tw-w-full"},[e("div",{staticClass:"camera-box",style:t.cameraView?"height: 500px":"height: 250px"},[t.streamAvailable2?e("img",{staticClass:"camera-stream",attrs:{src:t.streamSrc2,alt:"Camera 2 Feed"}}):e("img",{attrs:{src:"/img/icons/camera.png",alt:"Default Image",width:"100",height:"100"}})])])]),e("v-col",{attrs:{cols:t.cameraView?12:6}},[e("div",{staticClass:"tw-w-full"},[e("div",{staticClass:"camera-box",style:t.cameraView?"height: 500px":"height: 250px"},[t.streamAvailable3?e("img",{staticClass:"camera-stream",attrs:{src:t.streamSrc3,alt:"Camera 3 Feed"}}):e("img",{attrs:{src:"/img/icons/camera.png",alt:"Default Image",width:"100",height:"100"}})])])]),e("v-col",{attrs:{cols:t.cameraView?12:6}},[e("div",{staticClass:"tw-w-full"},[e("div",{staticClass:"camera-box",style:t.cameraView?"height: 500px":"height: 250px"},[t.streamAvailable4?e("img",{staticClass:"camera-stream",attrs:{src:t.streamSrc4,alt:"Camera 4 Feed"}}):e("img",{attrs:{src:"/img/icons/camera.png",alt:"Default Image",width:"100",height:"100"}})])])])],1)],1)],1)],1)},i=[],r=e("5530"),c=e("1da1"),n=(e("d3b7"),e("96cf"),e("bc3a")),l=e.n(n),o=e("94ed"),m={name:"CameraPage",data:function(){return{ws:null,fab:!0,fabAbove:!1,streamAvailable1:!1,streamAvailable2:!1,streamAvailable3:!1,streamAvailable4:!1,streamSrc1:"http://".concat("127.0.0.1",":8000/stream1"),streamSrc2:"http://".concat("127.0.0.1",":8000/stream2"),streamSrc3:"http://".concat("127.0.0.1",":8000/stream3"),streamSrc4:"http://".concat("127.0.0.1",":8000/stream4"),icons:{Unknown:o["h"],ComeOut:o["Ib"],ComeIn:o["Fb"],mdiCloseThick:o["I"]},cameraView:!1,analyticsData:[],intervalId:null}},created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return localStorage.getItem("cameraView")&&(t.cameraView="first"===localStorage.getItem("cameraView")),a.next=3,t.checkStreamAvailability("".concat(t.streamSrc1,"/available"),"streamAvailable1");case 3:return a.next=5,t.checkStreamAvailability("".concat(t.streamSrc2,"/available"),"streamAvailable2");case 5:t.intervalId=setInterval(t.fetchAnalyticsData,5e3);case 6:case"end":return a.stop()}}),a)})))()},beforeDestroy:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t.intervalId){a.next=6;break}return a.next=3,l.a.get("http://".concat("127.0.0.1",":8000/api/camera/camera_1/off"));case 3:return a.next=5,l.a.get("http://".concat("127.0.0.1",":8000/api/camera/camera_2/off"));case 5:clearInterval(t.intervalId);case 6:case"end":return a.stop()}}),a)})))()},mounted:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:console.log(t.streamAvailable3);case 1:case"end":return a.stop()}}),a)})))()},methods:{checkStreamAvailability:function(t,a){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,l.a.get(t);case 2:i=s.sent,console.log(i.status),console.log(a),200===i.status&&(e[a]=!0);case 6:case"end":return s.stop()}}),s)})))()},fetchAnalyticsData:function(){var t=this;fetch("http://".concat("127.0.0.1",":8000/camera-analytics")).then((function(t){return t.json()})).then((function(a){console.log(a.action),a&&a.action&&((0===t.analyticsData.length||t.analyticsData.length>0&&t.analyticsData[t.analyticsData.length-1].action!==a.action)&&"ComeOut"===a.action&&t.analyticsData.unshift(Object(r["a"])(Object(r["a"])({},t.analyticsData[t.analyticsData.length-1]),{},{action:"ComeOut",iconColor:"red"})),t.analyticsData.unshift(Object(r["a"])(Object(r["a"])({},a),{},{iconColor:"Unknown"===a.action?"#dddd00":"ComeIn"===a.action?"green":"red",avatar1:"data:image/jpeg;base64,".concat(a.firstPhoto),avatar2:"data:image/jpeg;base64,".concat(a.secondPhoto)})),console.log(t.analyticsData))})).catch((function(t){return console.error("Error fetching analytics data:",t)}))},onScroll:function(t){if("undefined"!==typeof window){var a=window.pageYOffset||t.target.scrollTop||0;this.fabAbove=a>20}else this.fabAbove=!0},clear:function(){this.analyticsData=[]}}},h=m,v=(e("387b"),e("2877")),g=e("6544"),d=e.n(g),u=e("8336"),p=e("62ad"),f=e("132d"),b=e("8860"),w=e("da13"),x=e("8270"),C=e("5d23"),y=e("0fd9"),S=e("269a"),_=e.n(S),A=e("f977"),I=Object(v["a"])(h,s,i,!1,null,"55a8cb3e",null);a["default"]=I.exports;d()(I,{VBtn:u["a"],VCol:p["a"],VIcon:f["a"],VList:b["a"],VListItem:w["a"],VListItemAvatar:x["a"],VListItemContent:C["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VRow:y["a"]}),_()(I,{Scroll:A["b"]})}}]);